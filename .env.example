# LLM A/B Testing Platform - Environment Configuration Template
# Copy this file to .env and fill in your values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# For local development with Docker Compose:
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/llm_testing_dev

# For CI/CD testing:
# DATABASE_URL=postgresql://postgres:postgres@localhost:5432/test_db

# For production (update with actual credentials):
# DATABASE_URL=postgresql://username:password@hostname:5432/production_db

DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=10
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=false
API_RELOAD=false
API_WORKERS=1

# JWT and Security
SECRET_KEY=your-secret-key-here-please-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8501"]

# =============================================================================
# MODEL PROVIDER API KEYS
# =============================================================================

# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORG_ID=your-org-id-optional
OPENAI_BASE_URL=https://api.openai.com/v1

# Anthropic
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
ANTHROPIC_BASE_URL=https://api.anthropic.com

# Google AI
GOOGLE_API_KEY=your-google-ai-api-key-here
GOOGLE_PROJECT_ID=your-google-project-id

# Azure OpenAI
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-azure-openai-key-here
AZURE_OPENAI_API_VERSION=2024-02-01

# AWS Bedrock
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# Worker Configuration
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_TASK_SOFT_TIME_LIMIT=300
CELERY_TASK_TIME_LIMIT=600

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE=logs/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# Structured logging
LOG_JSON=false
LOG_CORRELATION_ID=true

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=8080
PROMETHEUS_PATH=/metrics

# Sentry (Error Tracking)
SENTRY_DSN=your-sentry-dsn-here
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Application Insights (Azure)
APPINSIGHTS_INSTRUMENTATION_KEY=your-app-insights-key

# =============================================================================
# PERFORMANCE & LIMITS
# =============================================================================

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# Timeouts
HTTP_TIMEOUT=30
MODEL_REQUEST_TIMEOUT=120
TEST_EXECUTION_TIMEOUT=3600

# Concurrency
MAX_CONCURRENT_TESTS=5
MAX_CONCURRENT_MODEL_REQUESTS=10
MAX_SAMPLES_PER_TEST=1000

# Cost Limits
DEFAULT_MAX_COST_PER_TEST=100.0
GLOBAL_DAILY_COST_LIMIT=1000.0
COST_ALERT_THRESHOLD=50.0

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Authentication
AUTH_ENABLED=false
AUTH_PROVIDER=local
OAUTH_CLIENT_ID=your-oauth-client-id
OAUTH_CLIENT_SECRET=your-oauth-client-secret

# API Security
API_KEY_REQUIRED=false
API_KEYS=["your-api-key-here"]

# HTTPS
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/key.pem

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
ENVIRONMENT=development
DEBUG=true
TESTING=false

# Feature Flags
ENABLE_ASYNC_EVALUATION=true
ENABLE_MODEL_CACHING=true
ENABLE_RESULT_STREAMING=true
ENABLE_ADVANCED_ANALYTICS=true

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# Email Notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-email-password
SMTP_TLS=true

# Webhook URLs
WEBHOOK_TEST_COMPLETED=https://your-webhook-url/test-completed
WEBHOOK_TEST_FAILED=https://your-webhook-url/test-failed
WEBHOOK_COST_ALERT=https://your-webhook-url/cost-alert

# Slack Integration
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
SLACK_CHANNEL=#llm-testing-alerts

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Container Configuration
CONTAINER_TIMEZONE=UTC
CONTAINER_USER_ID=1000
CONTAINER_GROUP_ID=1000

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_RETRIES=3

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Hot Reload
AUTO_RELOAD=false
RELOAD_DIRS=["src"]

# Testing
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/test_db
TEST_REDIS_URL=redis://localhost:6379/1

# Debug Tools
ENABLE_PROFILING=false
ENABLE_DEBUG_TOOLBAR=false